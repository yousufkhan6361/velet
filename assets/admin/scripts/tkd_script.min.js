var AdminScript=function(){return{init:function(){},trim:function(c,a){var b=(!a)?new RegExp("^\\s+|\\s+$","g"):new RegExp("^"+a+"+|"+a+"+$","g");return c.replace(b,"")},rTrim:function(c,a){var b=(!a)?new RegExp("\\s+$"):new RegExp(a+"+$");return c.replace(b,"")},lTrim:function(c,a){var b=(!a)?new RegExp("^\\s+"):new RegExp("^"+a+"+");return c.replace(b,"")},moveToTop:function(){$(".icon-arrow-up").trigger("click")}}}();var AdminAlert=function(){return{init:function(){return true},show:function(c,d,b){var a=Array();a.success="check";a.warning="warning";a.danger="warning";a.info="warning";Metronic.alert({type:b,icon:a[b],message:c,container:d,closeInSeconds:5,place:"prepend"})},success:function(a,b){this.show(a,b,"success")},failure:function(a,b){this.show(a,b,"danger")},warning:function(a,b){this.show(a,b,"warning")},info:function(a,b){this.show(a,b,"info")}}}();var AdminToastr=function(){return{success:function(c,b,a){this.show(c,b,"success",a)},info:function(c,b,a){this.show(c,b,"info",a)},warning:function(c,b,a){this.show(c,b,"warning",a)},error:function(c,b,a){this.show(c,b,"error",a)},show:function(e,d,b,a){if(!a){var a={}}toastr.options.positionClass=a.positionClass||"toast-bottom-right";if(a.showDuration){toastr.options.showDuration=a.showDuration}if(a.hideDuration){toastr.options.hideDuration=a.hideDuration}if(a.timeOut){toastr.options.timeOut=a.timeOut}if(a.extendedTimeOut){toastr.options.extendedTimeOut=a.extendedTimeOut}if(a.showEasing){toastr.options.showEasing=a.showEasing}if(a.hideEasing){toastr.options.hideEasing=a.hideEasing}if(a.showMethod){toastr.options.showMethod=a.showMethod}if(a.hideMethod){toastr.options.hideMethod=a.hideMethod}var c=toastr[b](e,d);$toastlast=c}}}();var AjaxRequest=function(){var a={};return{init:function(){return true},setAjaxParam:function(b,c){a[b]=c},load:function(c,d,b){response=this.fire(c,d);if(response.status==1){b.html(response.txt)}},fire:function(b,c){var d="";reqObj=this;Metronic.blockUI("body");$.ajax({url:b,type:"POST",data:c,async:false,dataType:"json",success:function(e){d=e},complete:function(e){Metronic.unblockUI("body")}});this.response=d;return d}}}();var FormScript=function(){var g={};var f=function(i){var h=$("#"+i.attr("data-target"));h.each(function(){var l=$(this);console.log(l);var o={};o.search_model=l.attr("data-search_model");o.search_model_relation=l.attr("data-search_model_relation");o.search_key=l.attr("data-search_key");o.dd_key=dd_key=l.attr("data-dd_key");o.dd_value=dd_value=l.attr("data-dd_value");o.search_val=i.find("option:selected").val();var n=l.attr("data-selected");var m=l.attr("data-uri")?l.attr("data-uri"):"ajax";var j=l.attr("data-populate-uri")?l.attr("data-populate-uri"):"populate";var k=$js_config.base_url+"admin/"+m+"/"+j;response=AjaxRequest.fire(k,o);l.find("option:gt(0)").remove();$(response).each(function(q,p){option=$("<option>",{value:p[dd_key]}).text(p[dd_value]);l.append(option);l.removeAttr("data-selected")});l.select2("val",n)})};var d=function(){if($(".dd-multiselect").length>0){$(".dd-multiselect").multiSelect({selectableOptgroup:true})}};var e=function(){if(!jQuery().colorpicker){return}$(".colorpicker-default").colorpicker({format:"hex"});$(".colorpicker-rgba").colorpicker()};var c=function(){if($(".ddefault-date-picker").length>0){$(".ddefault-date-picker").datepicker({format:"yyyy-mm-dd hh:ii"})}if($(".default-datetime-picker").length>0){$(".default-datetime-picker").datetimepicker({format:"yyyy-mm-dd hh:ii:ss"})}};var b=function(){var h=$(".toggleElement");if(h.length>0){h.each(function(){var i=$(this);toggleTarget=$(i.attr("data-toggle")).closest(".form-group");if(!i.bootstrapSwitch("state")){toggleTarget.hide()}});h.on("switchChange.bootstrapSwitch",function(i,j){toggleTarget=$($(this).attr("data-toggle")).closest(".form-group");toggleTarget.fadeToggle(j)})}};var a=function(){$("body").on("change","[slugify]",function(){var i=$(this).val();var h=$($(this).attr("slugify"));i=i.replace(/([^a-zA-Z0-9\-_\s]+)/gi,"");i=i.replace(/\s+/g,"-");h.val(i)})};return{init:function(){d();e();b();a();c();var h=$(".ajax-populate");if(h.length>0){h.change(function(){f($(this))});h.each(function(){f($(this))})}},validateAndAjax:function(k,j){var h={};var i={errorClass:"has-error help-block",errorElement:"span",submitHandler:function(m){}};k.validate(i);h.valid=k.valid();if(h.valid){console.log(k);var l=k.serialize();console.log(l);h.result=AjaxRequest.fire(j,l)}return h},prepareOptions:function(l,k,m){if(l.length){var h=$();var j=0;$.each(l,function(o,n){var i=$("<option>");if(!k){k=o}if(!p){var p=n}else{var p=n[p]}h.push(i.val(k).html(p));j++});return h}}}}();var FormFileUpload=function(){return{init:function(){$("#fileupload").fileupload({disableImageResize:false,autoUpload:false,disableImageResize:/Android(?!.*Chrome)|Opera/.test(window.navigator.userAgent),maxFileSize:52428800,acceptFileTypes:/(\.|\/)(gif|jpe?g|png|mp4|mp3|mov)$/i});$("#fileupload").fileupload("option","redirect",window.location.href.replace(/\/[^\/]*$/,"/cors/result.html?%s"));if($.support.cors){$.ajax({type:"HEAD"}).fail(function(){$('<div class="alert alert-danger"/>').text("Upload server currently unavailable - "+new Date()).appendTo("#fileupload")})}$("#fileupload").addClass("fileupload-processing");$.ajax({url:$("#fileupload").attr("action"),dataType:"json",context:$("#fileupload")[0]}).always(function(){$(this).removeClass("fileupload-processing")}).done(function(a){$(this).fileupload("option","done").call(this,$.Event("done"),{result:a})})}}}();$(window).on("load",function(){hide_preload()});$(document).ready(function(){AdminScript.init();FormScript.init();Layout.init()});function hide_preload(){$("#preloader").fadeOut(1000,function(){})}function show_preload(){$("#preloader").fadeIn(100)};